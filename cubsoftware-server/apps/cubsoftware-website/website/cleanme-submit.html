<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#5865f2">
    <title>Submit Server Template - CleanMe</title>
    <meta name="description" content="Share your Discord server template with the community. Submit your server to CleanMe and let others copy your setup.">

    <link rel="icon" type="image/png" href="/static/images/cleanme-logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/shared.css">
    <link rel="stylesheet" href="/static/css/cleanme.css">
</head>
<body data-page="submit">
    <!-- Header -->
    <header class="cleanme-header">
        <div class="header-container">
            <a href="/cleanme" class="logo">
                <img src="/static/images/cleanme-logo.png" alt="CleanMe">
                <span>CleanMe</span>
            </a>
            <nav class="nav-links">
                <a href="/cleanme">Home</a>
                <a href="/cleanme/browse">Browse</a>
                <a href="/cleanme/submit" class="active">Submit</a>
                <a href="/cleanme/dashboard">Dashboard</a>
            </nav>
            <div class="header-actions">
                <button class="login-btn">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path d="M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.09.09 0 0 0-.07.03c-.18.33-.39.76-.53 1.09a16.09 16.09 0 0 0-4.8 0c-.14-.34-.35-.76-.54-1.09c-.01-.02-.04-.03-.07-.03c-1.5.26-2.93.71-4.27 1.33c-.01 0-.02.01-.03.02c-2.72 4.07-3.47 8.03-3.1 11.95c0 .02.01.04.03.05c1.8 1.32 3.53 2.12 5.24 2.65c.03.01.06 0 .07-.02c.4-.55.76-1.13 1.07-1.74c.02-.04 0-.08-.04-.09c-.57-.22-1.11-.48-1.64-.78c-.04-.02-.04-.08-.01-.11c.11-.08.22-.17.33-.25c.02-.02.05-.02.07-.01c3.44 1.57 7.15 1.57 10.55 0c.02-.01.05-.01.07.01c.11.09.22.17.33.26c.04.03.04.09-.01.11c-.52.31-1.07.56-1.64.78c-.04.01-.05.06-.04.09c.32.61.68 1.19 1.07 1.74c.03.01.06.02.09.01c1.72-.53 3.45-1.33 5.25-2.65c.02-.01.03-.03.03-.05c.44-4.53-.73-8.46-3.1-11.95c-.01-.01-.02-.02-.04-.02zM8.52 14.91c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.84 2.12-1.89 2.12zm6.97 0c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.83 2.12-1.89 2.12z"/>
                    </svg>
                    Login with Discord
                </button>
                <div class="user-menu" style="display: none;">
                    <button class="user-menu-btn">
                        <img src="/static/images/default-avatar.png" alt="Avatar" class="user-avatar">
                        <span class="user-name">User</span>
                    </button>
                    <div class="user-dropdown">
                        <a href="/cleanme/dashboard">My Servers</a>
                        <a href="/cleanme/submit">Submit Server</a>
                        <button class="logout-btn">Logout</button>
                    </div>
                </div>
            </div>
            <button class="mobile-menu-btn">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- Submit Section -->
    <main class="submit-main">
        <div class="submit-container">
            <div class="submit-header">
                <h1>Submit Your Server Template</h1>
                <p>Share your Discord server setup with the community</p>
            </div>

            <!-- Requirements -->
            <div class="requirements-card">
                <h3>Requirements</h3>
                <ul>
                    <li>You must be the owner of the server</li>
                    <li>CleanMe bot must be in the server with Administrator permission</li>
                    <li>Your server should have a proper setup (channels, roles, categories)</li>
                    <li>No NSFW content or servers that violate Discord ToS</li>
                </ul>
            </div>

            <!-- Login Required Message -->
            <div class="login-required" id="login-required">
                <div class="login-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path>
                        <polyline points="10 17 15 12 10 7"></polyline>
                        <line x1="15" y1="12" x2="3" y2="12"></line>
                    </svg>
                </div>
                <h2>Login Required</h2>
                <p>You need to login with Discord to submit a server template.</p>
                <button class="login-btn large">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path d="M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.09.09 0 0 0-.07.03c-.18.33-.39.76-.53 1.09a16.09 16.09 0 0 0-4.8 0c-.14-.34-.35-.76-.54-1.09c-.01-.02-.04-.03-.07-.03c-1.5.26-2.93.71-4.27 1.33c-.01 0-.02.01-.03.02c-2.72 4.07-3.47 8.03-3.1 11.95c0 .02.01.04.03.05c1.8 1.32 3.53 2.12 5.24 2.65c.03.01.06 0 .07-.02c.4-.55.76-1.13 1.07-1.74c.02-.04 0-.08-.04-.09c-.57-.22-1.11-.48-1.64-.78c-.04-.02-.04-.08-.01-.11c.11-.08.22-.17.33-.25c.02-.02.05-.02.07-.01c3.44 1.57 7.15 1.57 10.55 0c.02-.01.05-.01.07.01c.11.09.22.17.33.26c.04.03.04.09-.01.11c-.52.31-1.07.56-1.64.78c-.04.01-.05.06-.04.09c.32.61.68 1.19 1.07 1.74c.03.01.06.02.09.01c1.72-.53 3.45-1.33 5.25-2.65c.02-.01.03-.03.03-.05c.44-4.53-.73-8.46-3.1-11.95c-.01-.01-.02-.02-.04-.02zM8.52 14.91c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.84 2.12-1.89 2.12zm6.97 0c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.83 2.12-1.89 2.12z"/>
                    </svg>
                    Login with Discord
                </button>
            </div>

            <!-- Submit Form -->
            <form class="server-submit-form" id="submit-form" style="display: none;">
                <div class="form-group">
                    <label for="server-id">Server ID</label>
                    <input type="text" id="server-id" name="server_id" placeholder="Enter your Discord server ID" required pattern="[0-9]{17,20}">
                    <span class="form-hint">Right-click your server icon and select "Copy Server ID" (Developer Mode must be enabled)</span>
                </div>

                <!-- Server Preview -->
                <div class="server-preview" style="display: none;"></div>

                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea id="description" name="description" placeholder="Describe your server template..." rows="4" required maxlength="500"></textarea>
                    <span class="form-hint">Max 500 characters</span>
                </div>

                <div class="form-group">
                    <label for="category">Category</label>
                    <select id="category" name="category" required>
                        <option value="">Select a category</option>
                        <option value="gaming">Gaming</option>
                        <option value="community">Community</option>
                        <option value="education">Education</option>
                        <option value="music">Music</option>
                        <option value="content">Content Creation</option>
                        <option value="business">Business</option>
                        <option value="technology">Technology</option>
                        <option value="art">Art & Design</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="tags">Tags (optional)</label>
                    <input type="text" id="tags" name="tags" placeholder="e.g., minecraft, roleplay, esports">
                    <span class="form-hint">Comma-separated, max 5 tags</span>
                </div>

                <div class="form-group checkbox-group">
                    <label>
                        <input type="checkbox" name="agree_terms" required>
                        I confirm that I own this server and agree to the <a href="/terms" target="_blank">Terms of Service</a>
                    </label>
                </div>

                <button type="submit" class="submit-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 2L11 13"></path>
                        <path d="M22 2l-7 20-4-9-9-4 20-7z"></path>
                    </svg>
                    Submit Server
                </button>
            </form>
        </div>
    </main>

    <!-- Footer -->
    <footer class="cleanme-footer">
        <div class="footer-container">
            <div class="footer-brand">
                <img src="/static/images/cleanme-logo.png" alt="CleanMe">
                <span>CleanMe</span>
            </div>
            <div class="footer-links">
                <a href="/cleanme">Home</a>
                <a href="/cleanme/browse">Browse</a>
                <a href="https://discord.gg/cubsoftware" target="_blank">Discord</a>
                <a href="/">CUB SOFTWARE</a>
            </div>
            <p class="footer-copyright">&copy; 2025 CUB SOFTWARE. All rights reserved.</p>
        </div>
    </footer>

    <script src="/static/js/cleanme.js"></script>
    <script>
        // Show form if logged in, otherwise show login required
        document.addEventListener('DOMContentLoaded', () => {
            const userCookie = document.cookie.split('; ').find(row => row.startsWith('cleanme_user='));
            if (userCookie) {
                document.getElementById('login-required').style.display = 'none';
                document.getElementById('submit-form').style.display = 'block';
            }
        });
    </script>
</body>
</html>

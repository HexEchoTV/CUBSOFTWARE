import{u as S,r as c,o as M,s as T,h as A,l as C,c as n,a as e,b as B,d as g,w as _,e as F,f as v,t as r,g as L,n as j,q as $,F as V,C as H,i as d,j as h}from"./index-ClFZdPZW.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"min-h-screen flex flex-col"},Q={class:"hero"},U={class:"container"},z={class:"hero-buttons"},G={class:"container mx-auto px-4 py-8 flex-1"},J={key:0,class:"text-center py-12"},K={key:1,class:"bg-red-900/20 border border-red-500 rounded-lg p-6 text-center"},X={class:"text-red-400"},Y={key:2,class:"max-w-4xl mx-auto"},O={class:"bg-dark-800 rounded-lg p-8 mb-6 border-2 border-red-500/50"},W={class:"flex items-center justify-between mb-6"},Z={class:"text-4xl font-bold mb-2 text-red-400"},tt={class:"flex gap-4 text-sm"},et={class:"text-gray-400"},st={class:"text-yellow-400"},at={class:"text-right"},ot={class:"text-2xl font-bold text-red-500"},rt={class:"mb-6"},lt={class:"flex justify-between text-sm mb-2"},nt={class:"text-white font-bold"},dt={class:"w-full bg-dark-700 rounded-full h-8 overflow-hidden border-2 border-dark-600"},it={class:"h-full flex items-center justify-center text-white text-sm font-bold"},ct={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},ut={class:"bg-dark-900/50 rounded p-4 text-center"},vt={class:"text-2xl font-bold text-red-400"},bt={class:"bg-dark-900/50 rounded p-4 text-center"},xt={class:"text-2xl font-bold text-blue-400"},ft={class:"bg-dark-900/50 rounded p-4 text-center"},pt={class:"text-2xl font-bold text-yellow-400"},gt={class:"bg-dark-900/50 rounded p-4 text-center"},_t={class:"text-2xl font-bold text-purple-400"},ht=["disabled"],mt={key:0,class:"text-center mt-4 text-sm text-gray-400"},yt={class:"bg-dark-800 rounded-lg p-6"},kt={key:0,class:"space-y-2"},wt={class:"flex items-center gap-4"},At={class:"font-bold"},Ct={class:"text-sm text-gray-400"},Bt={class:"text-right"},$t={class:"font-bold text-red-400"},Dt={key:1,class:"text-center py-8 text-gray-400"},Pt={key:3,class:"text-center py-12"},Et={__name:"Bosses",setup(It){const i=S(),m=c(!1),s=c(null),b=c([]),x=c(null),f=c(!1),D=c(null),y="https://questcord.fun";let k=null;M(async()=>{await p(),k=setInterval(async()=>{await p(!0)},1e4)}),T(()=>{k&&clearInterval(k)});async function p(a=!1){var t,l;a||(m.value=!0),x.value=null;try{const o=await A.get(`${y}/api/v1/bosses/active`);o.data.success&&o.data.data?(s.value=o.data.data,s.value.id&&await P(s.value.id)):(s.value=null,b.value=[])}catch(o){x.value=((l=(t=o.response)==null?void 0:t.data)==null?void 0:l.message)||"Failed to load boss",console.error("Error fetching boss:",o)}finally{a||(m.value=!1)}}async function P(a){try{const t=await A.get(`${y}/api/v1/bosses/${a}/participants`);t.data.success&&(b.value=t.data.data||[])}catch(t){console.error("Error fetching participants:",t)}}async function E(){var a,t;if(!i.isAuthenticated){i.login();return}if(!s.value||s.value.current_hp<=0){alert("No active boss to attack!");return}f.value=!0;try{const l=await A.post(`${y}/api/v1/bosses/${s.value.id}/attack`,{},{headers:{Authorization:`Bearer ${i.token}`}});if(l.data.success){D.value=l.data.data,await p();const o=l.data.data;alert(`You dealt ${o.damage_dealt} damage! ${o.critical_hit?"üí• CRITICAL HIT!":""}`)}}catch(l){alert(((t=(a=l.response)==null?void 0:a.data)==null?void 0:t.message)||"Failed to attack boss")}finally{f.value=!1}}const w=C(()=>s.value?Math.max(0,s.value.current_hp/s.value.max_hp*100):0),I=C(()=>{const a=w.value;return a>60?"bg-green-500":a>30?"bg-yellow-500":"bg-red-500"});function u(a){return a>=1e6?(a/1e6).toFixed(1)+"M":a>=1e3?(a/1e3).toFixed(1)+"K":a.toString()}function N(){if(!s.value||!s.value.expires_at)return"Unknown";const a=Math.floor(Date.now()/1e3),t=s.value.expires_at-a;if(t<=0)return"Expired";const l=Math.floor(t/3600),o=Math.floor(t%3600/60);return`${l}h ${o}m`}return(a,t)=>{const l=F("router-link");return d(),n("div",q,[e("div",Q,[e("div",U,[t[7]||(t[7]=e("div",{class:"hero-title-container"},[e("h1",{class:"hero-title"},"QuestCord")],-1)),t[8]||(t[8]=e("p",{class:"hero-subtitle"},"Quest across the Discord universe",-1)),t[9]||(t[9]=e("p",{class:"hero-description"},"Complete quests, defeat bosses, and climb the global leaderboard in this immersive Discord RPG experience",-1)),e("div",z,[g(l,{to:"/dashboard",class:"btn btn-primary"},{default:_(()=>[...t[3]||(t[3]=[h("Dashboard",-1)])]),_:1}),g(l,{to:"/quests",class:"btn btn-secondary"},{default:_(()=>[...t[4]||(t[4]=[h("Quests",-1)])]),_:1}),g(l,{to:"/guilds",class:"btn btn-secondary"},{default:_(()=>[...t[5]||(t[5]=[h("Guilds",-1)])]),_:1}),g(l,{to:"/profile",class:"btn btn-secondary"},{default:_(()=>[...t[6]||(t[6]=[h("Profile",-1)])]),_:1}),v(i).isAuthenticated?(d(),n("button",{key:0,onClick:t[0]||(t[0]=o=>v(i).logout()),class:"btn btn-secondary",style:{background:"linear-gradient(135deg, #dc2626 0%, #991b1b 100%)",border:"none"}},"Logout")):(d(),n("button",{key:1,onClick:t[1]||(t[1]=o=>v(i).login()),class:"btn btn-secondary",style:{background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",border:"none"}},"Login"))])])]),e("main",G,[t[19]||(t[19]=B('<div class="mb-8 text-center" data-v-44193ab3><div class="flex items-center justify-center gap-3 mb-3" data-v-44193ab3><div class="text-5xl" data-v-44193ab3>üêâ</div><h2 class="text-4xl font-bold bg-gradient-to-r from-red-500 to-orange-400 bg-clip-text text-transparent" data-v-44193ab3> Boss Battles </h2></div><p class="text-gray-400 text-lg" data-v-44193ab3>Join forces to defeat powerful world bosses</p><p class="text-xs text-gray-500 mt-2" data-v-44193ab3>Updates automatically every 10 seconds</p></div>',1)),m.value?(d(),n("div",J,[...t[10]||(t[10]=[e("div",{class:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-400"},"Loading boss...",-1)])])):x.value?(d(),n("div",K,[e("p",X,r(x.value),1),e("button",{onClick:t[2]||(t[2]=o=>p()),class:"btn btn-primary mt-4"},"Try Again")])):s.value?(d(),n("div",Y,[e("div",O,[e("div",W,[e("div",null,[e("h3",Z,r(s.value.name),1),e("div",tt,[e("span",et,"Level "+r(s.value.level),1),e("span",st,"‚è±Ô∏è "+r(N()),1)])]),e("div",at,[e("div",ot,r(s.value.current_hp>0?"‚ò†Ô∏è ALIVE":"üíÄ DEFEATED"),1)])]),e("div",rt,[e("div",lt,[t[11]||(t[11]=e("span",{class:"text-gray-400"},"Health",-1)),e("span",nt,r(u(s.value.current_hp))+" / "+r(u(s.value.max_hp))+" HP",1)]),e("div",dt,[e("div",{class:$(["h-full transition-all duration-500 rounded-full",I.value]),style:j({width:w.value+"%"})},[e("div",it,r(Math.round(w.value))+"% ",1)],6)])]),e("div",ct,[e("div",ut,[e("div",vt,r(s.value.attack),1),t[12]||(t[12]=e("div",{class:"text-xs text-gray-400"},"Attack",-1))]),e("div",bt,[e("div",xt,r(s.value.defense),1),t[13]||(t[13]=e("div",{class:"text-xs text-gray-400"},"Defense",-1))]),e("div",ft,[e("div",pt,r(u(s.value.reward_currency)),1),t[14]||(t[14]=e("div",{class:"text-xs text-gray-400"},"Dakari Reward",-1))]),e("div",gt,[e("div",_t,r(u(s.value.reward_experience)),1),t[15]||(t[15]=e("div",{class:"text-xs text-gray-400"},"XP Reward",-1))])]),e("button",{onClick:E,disabled:f.value||s.value.current_hp<=0||!v(i).isAuthenticated,class:$(["btn btn-primary w-full text-xl py-4",{"opacity-50 cursor-not-allowed":s.value.current_hp<=0}])},r(f.value?"‚öîÔ∏è Attacking...":s.value.current_hp<=0?"üíÄ Boss Defeated":"‚öîÔ∏è Attack Boss"),11,ht),v(i).isAuthenticated?L("",!0):(d(),n("div",mt," Please login to attack the boss "))]),e("div",yt,[t[17]||(t[17]=e("h3",{class:"text-2xl font-bold mb-4"},"Top Attackers",-1)),b.value.length>0?(d(),n("div",kt,[(d(!0),n(V,null,H(b.value.slice(0,10),(o,Nt)=>(d(),n("div",{key:o.user_id,class:"flex items-center justify-between bg-dark-700 rounded p-4 hover:bg-dark-600 transition-colors"},[e("div",wt,[t[16]||(t[16]=e("div",{class:"text-2xl font-bold text-gray-500"},"#{index + 1}",-1)),e("div",null,[e("div",At,r(o.username),1),e("div",Ct,r(o.attack_count)+" attacks",1)])]),e("div",Bt,[e("div",$t,r(u(o.total_damage))+" damage",1)])]))),128))])):(d(),n("div",Dt," No one has attacked yet. Be the first! "))])])):(d(),n("div",Pt,[...t[18]||(t[18]=[e("div",{class:"text-6xl mb-4"},"üò¥",-1),e("h3",{class:"text-2xl font-bold mb-2"},"No Active Boss",-1),e("p",{class:"text-gray-400"},"A new boss will spawn soon. Check back later!",-1)])]))]),t[20]||(t[20]=B('<footer class="footer" data-v-44193ab3><div class="container" data-v-44193ab3><div class="footer-content" data-v-44193ab3><div class="footer-text" data-v-44193ab3> ¬© 2025 QuestCord Made with love by <a href="https://discord.com/users/378501056008683530" target="_blank" rel="noopener noreferrer" class="footer-link" data-v-44193ab3>CUB</a> and Scarlett </div><div class="footer-legal-links" data-v-44193ab3><a href="http://localhost:3000/terms" class="footer-legal-link" data-v-44193ab3>Terms of Service</a><span class="footer-separator" data-v-44193ab3>|</span><a href="http://localhost:3000/privacy" class="footer-legal-link" data-v-44193ab3>Privacy Policy</a></div></div></div></footer>',1))])}}},Tt=R(Et,[["__scopeId","data-v-44193ab3"]]);export{Tt as default};
